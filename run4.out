[a100:1505617] mca_base_component_repository_open: unable to open mca_btl_openib: librdmacm.so.1: cannot open shared object file: No such file or directory (ignored)
loading drawing model...
loading semseg model...
/home/wgy/miniconda3/envs/mumo/lib/python3.9/site-packages/torch/functional.py:504: UserWarning: torch.meshgrid: in an upcoming release, it will be required to pass the indexing argument. (Triggered internally at ../aten/src/ATen/native/TensorShape.cpp:3526.)
  return _VF.meshgrid(tensors, **kwargs)  # type: ignore[attr-defined]
self.task_switch  {'coco': True, 'o365': False}
loading panoseg model...
self.task_switch  {'coco': True, 'o365': False}
loading classifier...
loading pos tagger...
2023-12-09 15:06:41 INFO: Checking for updates to resources.json in case models have been updated.  Note: this behavior can be turned off with download_method=None or download_method=DownloadMethod.REUSE_RESOURCES
Downloading https://raw.githubusercontent.com/stanfordnlp/stanza-resources/main/resources_1.7.0.json:   0%|          | 0.00/46.1k [00:00<?, ?B/s]Downloading https://raw.githubusercontent.com/stanfordnlp/stanza-resources/main/resources_1.7.0.json: 369kB [00:00, 2.68MB/s]                    Downloading https://raw.githubusercontent.com/stanfordnlp/stanza-resources/main/resources_1.7.0.json: 369kB [00:00, 2.68MB/s]
2023-12-09 15:06:41 WARNING: Language en package default expects mwt, which has been added
2023-12-09 15:06:42 INFO: Loading these models for language: en (English):
===============================
| Processor | Package         |
-------------------------------
| tokenize  | combined        |
| mwt       | combined        |
| pos       | combined_charlm |
===============================

2023-12-09 15:06:42 INFO: Using device: cuda
2023-12-09 15:06:42 INFO: Loading: tokenize
2023-12-09 15:06:42 INFO: Loading: mwt
2023-12-09 15:06:42 INFO: Loading: pos
2023-12-09 15:06:42 INFO: Done loading processors!
loading models completed
  0%|          | 0/153 [00:00<?, ?it/s]Extracting target objs from caption...
target_objs: [{'obj': 'giraffe', 'num': 2, 'color': [192, 64, 0]}, {'obj': 'grass', 'num': 1, 'color': [96, 64, 192]}]
caption_objs: ['Giraffes', 'grass zoo enclosure']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:05<00:44,  5.52s/it][A
 22%|██▏       | 2/9 [00:10<00:37,  5.36s/it][A
 33%|███▎      | 3/9 [00:16<00:32,  5.36s/it][A
 44%|████▍     | 4/9 [00:21<00:26,  5.39s/it][A
 56%|█████▌    | 5/9 [00:26<00:21,  5.41s/it][A
 67%|██████▋   | 6/9 [00:32<00:16,  5.37s/it][A
 78%|███████▊  | 7/9 [00:37<00:10,  5.38s/it][A
 89%|████████▉ | 8/9 [00:43<00:05,  5.43s/it][A
100%|██████████| 9/9 [00:48<00:00,  5.44s/it][A100%|██████████| 9/9 [00:48<00:00,  5.41s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:09<10:27, 69.72s/it][A
 20%|██        | 2/10 [02:30<10:11, 76.48s/it][A
 30%|███       | 3/10 [03:54<09:17, 79.67s/it][A
 40%|████      | 4/10 [05:18<08:08, 81.50s/it][A
 50%|█████     | 5/10 [06:40<06:47, 81.48s/it][A
 60%|██████    | 6/10 [08:01<05:25, 81.44s/it][A
 70%|███████   | 7/10 [09:21<04:03, 81.08s/it][A
 80%|████████  | 8/10 [10:43<02:42, 81.17s/it][A
 90%|█████████ | 9/10 [12:05<01:21, 81.58s/it][A
100%|██████████| 10/10 [13:28<00:00, 82.04s/it][A100%|██████████| 10/10 [13:28<00:00, 80.88s/it]
Total: 1003.1829988956451s
  1%|▏         | 2/153 [16:43<21:02:20, 501.59s/it]Extracting target objs from caption...
target_objs: [{'obj': 'cat', 'num': 2, 'color': [128, 64, 0]}, {'obj': 'blanket', 'num': 1, 'color': [224, 64, 128]}]
caption_objs: ['cats', 'blanket']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:08<01:08,  8.55s/it][A
 22%|██▏       | 2/9 [00:18<01:04,  9.26s/it][A
 33%|███▎      | 3/9 [00:28<00:58,  9.77s/it][A
 44%|████▍     | 4/9 [00:39<00:51, 10.30s/it][A
 56%|█████▌    | 5/9 [00:51<00:42, 10.74s/it][A
 67%|██████▋   | 6/9 [01:01<00:32, 10.67s/it][A
 78%|███████▊  | 7/9 [01:12<00:21, 10.78s/it][A
 89%|████████▉ | 8/9 [01:22<00:10, 10.43s/it][A
100%|██████████| 9/9 [01:31<00:00,  9.87s/it][A100%|██████████| 9/9 [01:31<00:00, 10.13s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [00:59<08:58, 59.80s/it][A
 20%|██        | 2/10 [02:21<09:41, 72.69s/it][A
 30%|███       | 3/10 [03:44<09:00, 77.22s/it][A
 40%|████      | 4/10 [05:07<07:58, 79.80s/it][A
 50%|█████     | 5/10 [06:30<06:44, 80.83s/it][A
 60%|██████    | 6/10 [07:53<05:25, 81.44s/it][A
 70%|███████   | 7/10 [09:14<04:03, 81.29s/it][A
 80%|████████  | 8/10 [10:39<02:44, 82.46s/it][A
 90%|█████████ | 9/10 [12:02<01:22, 82.61s/it][A
100%|██████████| 10/10 [13:20<00:00, 81.35s/it][A100%|██████████| 10/10 [13:20<00:00, 80.06s/it]
Total: 933.6890845298767s
  3%|▎         | 5/153 [32:16<15:17:06, 371.80s/it]Extracting target objs from caption...
target_objs: [{'obj': 'person', 'num': 1, 'color': [128, 0, 0]}, {'obj': 'laptop', 'num': 1, 'color': [224, 0, 0]}, {'obj': 'bed', 'num': 1, 'color': [160, 0, 0]}]
caption_objs: ['girl', 'laptop', 'bed']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:09<01:14,  9.28s/it][A
 22%|██▏       | 2/9 [00:19<01:08,  9.78s/it][A
 33%|███▎      | 3/9 [00:30<01:02, 10.42s/it][A
 44%|████▍     | 4/9 [00:42<00:54, 10.82s/it][A
 56%|█████▌    | 5/9 [00:53<00:44, 11.03s/it][A
 67%|██████▋   | 6/9 [01:05<00:33, 11.23s/it][A
 78%|███████▊  | 7/9 [01:18<00:23, 11.94s/it][A
 89%|████████▉ | 8/9 [01:29<00:11, 11.71s/it][A
100%|██████████| 9/9 [01:41<00:00, 11.65s/it][A100%|██████████| 9/9 [01:41<00:00, 11.24s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [00:53<08:02, 53.61s/it][A
 20%|██        | 2/10 [01:47<07:10, 53.84s/it][A
 30%|███       | 3/10 [02:41<06:18, 54.03s/it][A
 40%|████      | 4/10 [03:33<05:18, 53.10s/it][A
 50%|█████     | 5/10 [04:33<04:38, 55.63s/it][A
 60%|██████    | 6/10 [05:54<04:16, 64.07s/it][A
 70%|███████   | 7/10 [07:13<03:27, 69.17s/it][A
 80%|████████  | 8/10 [08:35<02:26, 73.12s/it][A
 90%|█████████ | 9/10 [09:55<01:15, 75.36s/it][A
100%|██████████| 10/10 [11:16<00:00, 76.93s/it][A100%|██████████| 10/10 [11:16<00:00, 67.61s/it]
Total: 822.2708420753479s
  5%|▌         | 8/153 [45:59<13:02:00, 323.59s/it]Extracting target objs from caption...
target_objs: [{'obj': 'zebra', 'num': 2, 'color': [64, 64, 0]}, {'obj': 'grass', 'num': 1, 'color': [96, 64, 192]}]
caption_objs: ['zebras', 'grass']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:05<00:42,  5.35s/it][A
 22%|██▏       | 2/9 [00:10<00:36,  5.26s/it][A
 33%|███▎      | 3/9 [00:15<00:30,  5.14s/it][A
 44%|████▍     | 4/9 [00:20<00:26,  5.23s/it][A
 56%|█████▌    | 5/9 [00:26<00:20,  5.20s/it][A
 67%|██████▋   | 6/9 [00:31<00:15,  5.18s/it][A
 78%|███████▊  | 7/9 [00:36<00:10,  5.25s/it][A
 89%|████████▉ | 8/9 [00:41<00:05,  5.27s/it][A
100%|██████████| 9/9 [00:47<00:00,  5.29s/it][A100%|██████████| 9/9 [00:47<00:00,  5.25s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:19<11:58, 79.78s/it][A
 20%|██        | 2/10 [02:41<10:46, 80.78s/it][A
 30%|███       | 3/10 [03:57<09:11, 78.76s/it][A
 40%|████      | 4/10 [05:08<07:33, 75.52s/it][A
 50%|█████     | 5/10 [06:06<05:46, 69.32s/it][A
 60%|██████    | 6/10 [06:59<04:15, 63.79s/it][A
 70%|███████   | 7/10 [07:52<03:01, 60.37s/it][A
 80%|████████  | 8/10 [09:06<02:09, 64.51s/it][A
 90%|█████████ | 9/10 [10:28<01:10, 70.05s/it][A
100%|██████████| 10/10 [11:52<00:00, 74.38s/it][A100%|██████████| 10/10 [11:52<00:00, 71.26s/it]
Total: 789.9085068702698s
  7%|▋         | 11/153 [59:09<11:46:50, 298.66s/it]Extracting target objs from caption...
target_objs: [{'obj': 'sheep', 'num': 2, 'color': [0, 64, 128]}]
caption_objs: ['sheep']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:05<00:44,  5.54s/it][A
 22%|██▏       | 2/9 [00:11<00:39,  5.57s/it][A
 33%|███▎      | 3/9 [00:16<00:33,  5.57s/it][A
 44%|████▍     | 4/9 [00:22<00:28,  5.61s/it][A
 56%|█████▌    | 5/9 [00:27<00:21,  5.48s/it][A
 67%|██████▋   | 6/9 [00:33<00:17,  5.71s/it][A
 78%|███████▊  | 7/9 [00:39<00:11,  5.64s/it][A
 89%|████████▉ | 8/9 [00:45<00:05,  5.80s/it][A
100%|██████████| 9/9 [00:52<00:00,  6.20s/it][A100%|██████████| 9/9 [00:52<00:00,  5.83s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:22<12:26, 82.92s/it][A
 20%|██        | 2/10 [02:46<11:06, 83.32s/it][A
 30%|███       | 3/10 [04:11<09:49, 84.18s/it][A
 40%|████      | 4/10 [05:34<08:21, 83.61s/it][A
 50%|█████     | 5/10 [06:53<06:49, 81.81s/it][A
 60%|██████    | 6/10 [07:46<04:48, 72.23s/it][A
 70%|███████   | 7/10 [08:42<03:20, 66.77s/it][A
 80%|████████  | 8/10 [09:39<02:07, 63.81s/it][A
 90%|█████████ | 9/10 [10:35<01:01, 61.21s/it][A
100%|██████████| 10/10 [11:45<00:00, 63.98s/it][A100%|██████████| 10/10 [11:45<00:00, 70.54s/it]
Total: 852.0955100059509s
  9%|▉         | 14/153 [1:13:21<11:19:18, 293.23s/it]Extracting target objs from caption...
target_objs: []
caption_objs: []
Total: 91.59383177757263s
 11%|█         | 17/153 [1:14:52<7:38:16, 202.18s/it] Extracting target objs from caption...
target_objs: [{'obj': 'stop sign', 'num': 1, 'color': [192, 0, 128]}]
caption_objs: ['stop sign']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:07<00:58,  7.30s/it][A
 22%|██▏       | 2/9 [00:14<00:51,  7.39s/it][A
 33%|███▎      | 3/9 [00:22<00:44,  7.39s/it][A
 44%|████▍     | 4/9 [00:29<00:36,  7.39s/it][A
 56%|█████▌    | 5/9 [00:36<00:29,  7.38s/it][A
 67%|██████▋   | 6/9 [00:44<00:22,  7.39s/it][A
 78%|███████▊  | 7/9 [00:51<00:14,  7.37s/it][A
 89%|████████▉ | 8/9 [00:59<00:07,  7.43s/it][A
100%|██████████| 9/9 [01:06<00:00,  7.34s/it][A100%|██████████| 9/9 [01:06<00:00,  7.37s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:23<12:28, 83.17s/it][A
 20%|██        | 2/10 [02:48<11:15, 84.45s/it][A
 30%|███       | 3/10 [04:08<09:36, 82.40s/it][A
 40%|████      | 4/10 [05:27<08:07, 81.22s/it][A
 50%|█████     | 5/10 [06:48<06:45, 81.03s/it][A
 60%|██████    | 6/10 [08:09<05:23, 80.92s/it][A
 70%|███████   | 7/10 [09:07<03:40, 73.54s/it][A
 80%|████████  | 8/10 [10:06<02:17, 68.85s/it][A
 90%|█████████ | 9/10 [11:28<01:13, 73.11s/it][A
100%|██████████| 10/10 [12:50<00:00, 75.76s/it][A100%|██████████| 10/10 [12:50<00:00, 77.06s/it]
Total: 873.5865406990051s
 13%|█▎        | 20/153 [1:29:26<8:33:30, 231.66s/it]Extracting target objs from caption...
target_objs: [{'obj': 'teddy bear', 'num': 1, 'color': [96, 64, 0]}]
caption_objs: ['teddy bear']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:07<00:58,  7.37s/it][A
 22%|██▏       | 2/9 [00:14<00:51,  7.34s/it][A
 33%|███▎      | 3/9 [00:22<00:44,  7.34s/it][A
 44%|████▍     | 4/9 [00:28<00:35,  7.19s/it][A
 56%|█████▌    | 5/9 [00:36<00:29,  7.29s/it][A
 67%|██████▋   | 6/9 [00:43<00:21,  7.32s/it][A
 78%|███████▊  | 7/9 [00:53<00:16,  8.18s/it][A
 89%|████████▉ | 8/9 [01:01<00:08,  8.14s/it][A
100%|██████████| 9/9 [01:08<00:00,  7.70s/it][A100%|██████████| 9/9 [01:08<00:00,  7.62s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:23<12:29, 83.28s/it][A
 20%|██        | 2/10 [02:45<11:02, 82.86s/it][A
 30%|███       | 3/10 [04:09<09:43, 83.38s/it][A
 40%|████      | 4/10 [05:32<08:18, 83.15s/it][A
 50%|█████     | 5/10 [06:54<06:53, 82.74s/it][A
 60%|██████    | 6/10 [08:16<05:29, 82.47s/it][A
 70%|███████   | 7/10 [09:12<03:41, 73.83s/it][A
 80%|████████  | 8/10 [10:08<02:16, 68.09s/it][A
 90%|█████████ | 9/10 [11:01<01:03, 63.29s/it][A
100%|██████████| 10/10 [12:13<00:00, 65.98s/it][A100%|██████████| 10/10 [12:13<00:00, 73.32s/it]
Total: 837.4766254425049s
 15%|█▌        | 23/153 [1:43:23<8:54:58, 246.91s/it]Extracting target objs from caption...
target_objs: [{'obj': 'cat', 'num': 1, 'color': [128, 64, 0]}, {'obj': 'desk-stuff', 'num': 1, 'color': [96, 128, 192]}, {'obj': 'knife', 'num': 1, 'color': [128, 64, 64]}]
caption_objs: ['cat', 'desk', 'army knife']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A  0%|          | 0/9 [00:01<?, ?it/s]
--------error--------
Traceback (most recent call last):
  File "/home/wgy/multimodal/MuMo/run4.py", line 442, in <module>
    editor(image_dir=obj_image_path, output_path=mask_dir, step=5, gen_num=9)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 203, in editor
    obj_list = get_obj_img(image_dir=image_dir, image_list=all_img)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 133, in get_obj_img
    info = read_obj_info(mask)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 119, in read_obj_info
    obj_info["x_max"] = max(point_x_set)
ValueError: max() arg is an empty sequence
---------------------
Total: 95.82519221305847s
 17%|█▋        | 26/153 [1:44:59<6:19:31, 179.30s/it]Extracting target objs from caption...
target_objs: [{'obj': 'spoon', 'num': 1, 'color': [0, 192, 64]}]
caption_objs: ['tea spoon']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:07<00:59,  7.48s/it][A
 22%|██▏       | 2/9 [00:15<00:53,  7.58s/it][A
 33%|███▎      | 3/9 [00:22<00:45,  7.64s/it][A
 44%|████▍     | 4/9 [00:30<00:38,  7.65s/it][A
 56%|█████▌    | 5/9 [00:38<00:30,  7.64s/it][A
 67%|██████▋   | 6/9 [00:45<00:22,  7.61s/it][A
 78%|███████▊  | 7/9 [00:53<00:15,  7.64s/it][A
 89%|████████▉ | 8/9 [01:01<00:07,  7.72s/it][A
100%|██████████| 9/9 [01:08<00:00,  7.67s/it][A100%|██████████| 9/9 [01:08<00:00,  7.65s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:24<12:43, 84.89s/it][A
 20%|██        | 2/10 [02:47<11:10, 83.80s/it][A
 30%|███       | 3/10 [04:11<09:44, 83.50s/it][A
 40%|████      | 4/10 [05:33<08:17, 82.91s/it][A
 50%|█████     | 5/10 [06:56<06:55, 83.07s/it][A
 60%|██████    | 6/10 [07:52<04:54, 73.75s/it][A
 70%|███████   | 7/10 [08:47<03:23, 67.85s/it][A
 80%|████████  | 8/10 [10:09<02:24, 72.28s/it][A
 90%|█████████ | 9/10 [11:31<01:15, 75.31s/it][A
100%|██████████| 10/10 [12:52<00:00, 77.07s/it][A100%|██████████| 10/10 [12:52<00:00, 77.25s/it]
Total: 928.590268611908s
 19%|█▉        | 29/153 [2:00:28<7:33:59, 219.67s/it]Extracting target objs from caption...
target_objs: [{'obj': 'motorcycle', 'num': 1, 'color': [0, 0, 128]}, {'obj': 'dirt', 'num': 1, 'color': [224, 128, 192]}, {'obj': 'tree', 'num': 1, 'color': [192, 32, 64]}]
caption_objs: ['motorcycle', 'dirt road', 'forest']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:09<01:14,  9.27s/it][A
 22%|██▏       | 2/9 [00:18<01:03,  9.10s/it][A
 33%|███▎      | 3/9 [00:27<00:54,  9.16s/it][A
 44%|████▍     | 4/9 [00:36<00:46,  9.24s/it][A
 56%|█████▌    | 5/9 [00:46<00:37,  9.39s/it][A
 67%|██████▋   | 6/9 [00:55<00:28,  9.37s/it][A
 78%|███████▊  | 7/9 [01:05<00:19,  9.51s/it][A
 89%|████████▉ | 8/9 [01:15<00:09,  9.71s/it][A
100%|██████████| 9/9 [01:25<00:00,  9.59s/it][A100%|██████████| 9/9 [01:25<00:00,  9.46s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:20<12:06, 80.75s/it][A
 20%|██        | 2/10 [02:43<10:53, 81.65s/it][A
 30%|███       | 3/10 [04:05<09:33, 81.86s/it][A
 40%|████      | 4/10 [05:25<08:08, 81.45s/it][A
 50%|█████     | 5/10 [06:39<06:33, 78.69s/it][A
 60%|██████    | 6/10 [07:30<04:36, 69.16s/it][A
 70%|███████   | 7/10 [08:24<03:13, 64.39s/it][A
 80%|████████  | 8/10 [09:49<02:21, 70.74s/it][A
 90%|█████████ | 9/10 [11:10<01:13, 73.98s/it][A
100%|██████████| 10/10 [12:31<00:00, 76.21s/it][A100%|██████████| 10/10 [12:31<00:00, 75.16s/it]
Total: 874.0006630420685s
 21%|██        | 32/153 [2:15:02<8:07:22, 241.67s/it]Extracting target objs from caption...
target_objs: [{'obj': 'clock', 'num': 1, 'color': [160, 64, 128]}]
caption_objs: ['CLOCK']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:06<00:55,  6.99s/it][A
 22%|██▏       | 2/9 [00:13<00:48,  6.98s/it][A
 33%|███▎      | 3/9 [00:20<00:41,  6.95s/it][A
 44%|████▍     | 4/9 [00:27<00:34,  6.97s/it][A
 56%|█████▌    | 5/9 [00:34<00:27,  6.96s/it][A
 67%|██████▋   | 6/9 [00:42<00:21,  7.05s/it][A
 78%|███████▊  | 7/9 [00:48<00:13,  7.00s/it][A
 89%|████████▉ | 8/9 [00:56<00:07,  7.02s/it][A
100%|██████████| 9/9 [01:03<00:00,  7.11s/it][A100%|██████████| 9/9 [01:03<00:00,  7.04s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:21<12:11, 81.28s/it][A
 20%|██        | 2/10 [02:40<10:41, 80.14s/it][A
 30%|███       | 3/10 [04:02<09:27, 81.12s/it][A
 40%|████      | 4/10 [05:22<08:03, 80.55s/it][A
 50%|█████     | 5/10 [06:42<06:40, 80.18s/it][A
 60%|██████    | 6/10 [07:49<05:03, 75.85s/it][A
 70%|███████   | 7/10 [08:40<03:23, 67.70s/it][A
 80%|████████  | 8/10 [09:39<02:09, 64.79s/it][A
 90%|█████████ | 9/10 [11:02<01:10, 70.77s/it][A
100%|██████████| 10/10 [12:26<00:00, 74.76s/it][A100%|██████████| 10/10 [12:26<00:00, 74.66s/it]
Total: 842.8781847953796s
 23%|██▎       | 35/153 [2:29:05<8:18:50, 253.65s/it]Extracting target objs from caption...
target_objs: [{'obj': 'truck', 'num': 4, 'color': [64, 0, 0]}, {'obj': 'truck', 'num': 4, 'color': [64, 0, 0]}]
caption_objs: ['pickup', 'pickup']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:07<00:59,  7.48s/it][A
 22%|██▏       | 2/9 [00:15<00:52,  7.56s/it][A
 33%|███▎      | 3/9 [00:23<00:47,  7.84s/it][A
 44%|████▍     | 4/9 [00:30<00:37,  7.46s/it][A
 56%|█████▌    | 5/9 [00:37<00:29,  7.49s/it][A
 67%|██████▋   | 6/9 [00:44<00:21,  7.27s/it][A
 78%|███████▊  | 7/9 [00:50<00:13,  6.93s/it][A
 89%|████████▉ | 8/9 [00:57<00:06,  6.93s/it][A
100%|██████████| 9/9 [01:04<00:00,  6.81s/it][A100%|██████████| 9/9 [01:04<00:00,  7.14s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:22<12:24, 82.74s/it][A
 20%|██        | 2/10 [02:43<10:52, 81.61s/it][A
 30%|███       | 3/10 [04:03<09:26, 80.96s/it][A
 40%|████      | 4/10 [05:25<08:06, 81.15s/it][A
 50%|█████     | 5/10 [06:41<06:37, 79.52s/it][A
 60%|██████    | 6/10 [07:34<04:42, 70.52s/it][A
 70%|███████   | 7/10 [08:30<03:17, 65.72s/it][A
 80%|████████  | 8/10 [09:42<02:15, 67.57s/it][A
 90%|█████████ | 9/10 [11:03<01:11, 71.85s/it][A
100%|██████████| 10/10 [12:24<00:00, 74.82s/it][A100%|██████████| 10/10 [12:24<00:00, 74.50s/it]
Total: 910.4524071216583s
 25%|██▍       | 38/153 [2:44:15<8:35:07, 268.76s/it]Extracting target objs from caption...
target_objs: [{'obj': 'cat', 'num': 1, 'color': [128, 64, 0]}, {'obj': 'motorcycle', 'num': 1, 'color': [0, 0, 128]}]
caption_objs: ['cat', 'motorcycle']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:05<00:43,  5.44s/it][A
 22%|██▏       | 2/9 [00:10<00:37,  5.42s/it][A
 33%|███▎      | 3/9 [00:16<00:32,  5.35s/it][A
 44%|████▍     | 4/9 [00:21<00:27,  5.44s/it][A
 56%|█████▌    | 5/9 [00:26<00:21,  5.39s/it][A
 67%|██████▋   | 6/9 [00:32<00:16,  5.40s/it][A
 78%|███████▊  | 7/9 [00:37<00:10,  5.37s/it][A
 89%|████████▉ | 8/9 [00:42<00:05,  5.27s/it][A
100%|██████████| 9/9 [00:48<00:00,  5.27s/it][A100%|██████████| 9/9 [00:48<00:00,  5.34s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:21<12:09, 81.11s/it][A
 20%|██        | 2/10 [02:45<11:04, 83.12s/it][A
 30%|███       | 3/10 [04:08<09:40, 82.90s/it][A
 40%|████      | 4/10 [05:30<08:16, 82.76s/it][A
 50%|█████     | 5/10 [06:52<06:52, 82.53s/it][A
 60%|██████    | 6/10 [08:14<05:28, 82.07s/it][A
 70%|███████   | 7/10 [09:11<03:42, 74.09s/it][A
 80%|████████  | 8/10 [10:11<02:19, 69.50s/it][A
 90%|█████████ | 9/10 [11:03<01:04, 64.03s/it][A
100%|██████████| 10/10 [11:56<00:00, 60.58s/it][A100%|██████████| 10/10 [11:56<00:00, 71.63s/it]
Total: 797.0808207988739s
 27%|██▋       | 41/153 [2:57:32<8:19:57, 267.84s/it]Extracting target objs from caption...
target_objs: [{'obj': 'cat', 'num': 1, 'color': [128, 64, 0]}, {'obj': 'toilet', 'num': 1, 'color': [32, 128, 128]}, {'obj': 'sink', 'num': 1, 'color': [160, 64, 0]}]
caption_objs: ['cat', 'toilet', 'sink']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:09<01:19,  9.94s/it][A
 22%|██▏       | 2/9 [00:19<01:09,  9.91s/it][A
 33%|███▎      | 3/9 [00:29<00:58,  9.83s/it][A
 44%|████▍     | 4/9 [00:39<00:49,  9.89s/it][A
 56%|█████▌    | 5/9 [00:49<00:39,  9.85s/it][A
 67%|██████▋   | 6/9 [00:59<00:29,  9.85s/it][A
 78%|███████▊  | 7/9 [01:08<00:19,  9.76s/it][A
 89%|████████▉ | 8/9 [01:18<00:09,  9.71s/it][A
100%|██████████| 9/9 [01:28<00:00,  9.89s/it][A100%|██████████| 9/9 [01:28<00:00,  9.85s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:16<11:27, 76.34s/it][A
 20%|██        | 2/10 [02:41<10:52, 81.59s/it][A
 30%|███       | 3/10 [04:06<09:42, 83.16s/it][A
 40%|████      | 4/10 [05:29<08:18, 83.13s/it][A
 50%|█████     | 5/10 [06:54<06:58, 83.60s/it][A
 60%|██████    | 6/10 [08:16<05:33, 83.32s/it][A
 70%|███████   | 7/10 [09:40<04:09, 83.30s/it][A
 80%|████████  | 8/10 [11:03<02:46, 83.44s/it][A
 90%|█████████ | 9/10 [11:50<01:11, 71.95s/it][A
100%|██████████| 10/10 [12:36<00:00, 64.02s/it][A100%|██████████| 10/10 [12:36<00:00, 75.69s/it]
Total: 886.9668662548065s
 29%|██▉       | 44/153 [3:12:19<8:21:48, 276.23s/it]Extracting target objs from caption...
target_objs: [{'obj': 'scissors', 'num': 2, 'color': [160, 192, 128]}]
caption_objs: ['scissors']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:08<01:08,  8.55s/it][A
 22%|██▏       | 2/9 [00:17<01:00,  8.65s/it][A
 33%|███▎      | 3/9 [00:28<00:58,  9.75s/it][A
 44%|████▍     | 4/9 [00:37<00:48,  9.62s/it][A
 56%|█████▌    | 5/9 [00:45<00:35,  8.83s/it][A
 67%|██████▋   | 6/9 [00:52<00:25,  8.37s/it][A
 78%|███████▊  | 7/9 [00:59<00:16,  8.03s/it][A
 89%|████████▉ | 8/9 [01:07<00:07,  7.76s/it][A
100%|██████████| 9/9 [01:14<00:00,  7.61s/it][A100%|██████████| 9/9 [01:14<00:00,  8.27s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [00:53<08:04, 53.78s/it][A
 20%|██        | 2/10 [02:07<08:42, 65.30s/it][A
 30%|███       | 3/10 [03:20<08:02, 68.88s/it][A
 40%|████      | 4/10 [04:33<07:03, 70.56s/it][A
 50%|█████     | 5/10 [05:46<05:57, 71.55s/it][A
 60%|██████    | 6/10 [06:59<04:47, 72.00s/it][A
 70%|███████   | 7/10 [08:12<03:37, 72.40s/it][A
 80%|████████  | 8/10 [09:26<02:25, 72.70s/it][A
 90%|█████████ | 9/10 [10:39<01:12, 72.89s/it][A
100%|██████████| 10/10 [11:52<00:00, 72.97s/it][A100%|██████████| 10/10 [11:52<00:00, 71.26s/it]
Total: 793.4088587760925s
 31%|███       | 47/153 [3:25:33<8:01:44, 272.69s/it]Extracting target objs from caption...
target_objs: [{'obj': 'bird', 'num': 1, 'color': [0, 64, 0]}, {'obj': 'bird', 'num': 1, 'color': [0, 64, 0]}]
caption_objs: ['bird', 'beak']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:04<00:35,  4.38s/it][A
 22%|██▏       | 2/9 [00:08<00:31,  4.48s/it][A
 33%|███▎      | 3/9 [00:13<00:26,  4.45s/it][A
 44%|████▍     | 4/9 [00:17<00:22,  4.44s/it][A
 56%|█████▌    | 5/9 [00:22<00:17,  4.48s/it][A
 67%|██████▋   | 6/9 [00:26<00:13,  4.45s/it][A
 78%|███████▊  | 7/9 [00:31<00:08,  4.46s/it][A
 89%|████████▉ | 8/9 [00:35<00:04,  4.54s/it][A
100%|██████████| 9/9 [00:40<00:00,  4.47s/it][A100%|██████████| 9/9 [00:40<00:00,  4.47s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:03<09:35, 63.89s/it][A
 20%|██        | 2/10 [02:17<09:15, 69.47s/it][A
 30%|███       | 3/10 [03:30<08:18, 71.21s/it][A
 40%|████      | 4/10 [04:43<07:11, 72.00s/it][A
 50%|█████     | 5/10 [05:57<06:02, 72.49s/it][A
 60%|██████    | 6/10 [07:10<04:51, 72.90s/it][A
 70%|███████   | 7/10 [08:24<03:39, 73.00s/it][A
 80%|████████  | 8/10 [09:37<02:26, 73.08s/it][A
 90%|█████████ | 9/10 [10:50<01:13, 73.16s/it][A
100%|██████████| 10/10 [12:03<00:00, 73.17s/it][A100%|██████████| 10/10 [12:03<00:00, 72.38s/it]
Total: 838.4920856952667s
 33%|███▎      | 50/153 [3:39:31<7:51:37, 274.74s/it]Extracting target objs from caption...
target_objs: []
caption_objs: []
Total: 168.0892369747162s
 35%|███▍      | 53/153 [3:42:19<5:48:20, 209.00s/it]Extracting target objs from caption...
target_objs: [{'obj': 'tree', 'num': 1, 'color': [192, 32, 64]}, {'obj': 'light', 'num': 0, 'color': [0, 160, 0]}, {'obj': 'teddy bear', 'num': 1, 'color': [96, 64, 0]}]
caption_objs: ['tree', 'lights', 'teddy bear']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:10<01:20, 10.07s/it][A
 22%|██▏       | 2/9 [00:20<01:12, 10.39s/it][A
 33%|███▎      | 3/9 [00:31<01:03, 10.65s/it][A
 44%|████▍     | 4/9 [00:41<00:52, 10.46s/it][A
 56%|█████▌    | 5/9 [00:51<00:41, 10.32s/it][A
 67%|██████▋   | 6/9 [01:03<00:31, 10.62s/it][A
 78%|███████▊  | 7/9 [01:13<00:20, 10.40s/it][A
 89%|████████▉ | 8/9 [01:24<00:10, 10.62s/it][A
100%|██████████| 9/9 [01:34<00:00, 10.65s/it][A100%|██████████| 9/9 [01:34<00:00, 10.54s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<11:00, 73.36s/it][A
 20%|██        | 2/10 [02:26<09:47, 73.44s/it][A
 30%|███       | 3/10 [03:40<08:34, 73.49s/it][A
 40%|████      | 4/10 [04:54<07:21, 73.59s/it][A
 50%|█████     | 5/10 [06:07<06:07, 73.56s/it][A
 60%|██████    | 6/10 [07:21<04:54, 73.68s/it][A
 70%|███████   | 7/10 [08:35<03:40, 73.65s/it][A
 80%|████████  | 8/10 [09:21<02:09, 64.89s/it][A
 90%|█████████ | 9/10 [10:08<00:59, 59.49s/it][A
100%|██████████| 10/10 [10:56<00:00, 55.78s/it][A100%|██████████| 10/10 [10:56<00:00, 65.64s/it]
Total: 788.4618344306946s
 37%|███▋      | 56/153 [3:55:28<6:04:01, 225.17s/it]Extracting target objs from caption...
target_objs: [{'obj': 'person', 'num': 1, 'color': [128, 0, 0]}, {'obj': 'airplane', 'num': 1, 'color': [128, 0, 128]}]
caption_objs: ['person', 'biplane']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A  0%|          | 0/9 [00:01<?, ?it/s]
--------error--------
Traceback (most recent call last):
  File "/home/wgy/multimodal/MuMo/run4.py", line 442, in <module>
    editor(image_dir=obj_image_path, output_path=mask_dir, step=5, gen_num=9)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 203, in editor
    obj_list = get_obj_img(image_dir=image_dir, image_list=all_img)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 133, in get_obj_img
    info = read_obj_info(mask)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 119, in read_obj_info
    obj_info["x_max"] = max(point_x_set)
ValueError: max() arg is an empty sequence
---------------------
Total: 43.378116846084595s
 39%|███▊      | 59/153 [3:56:11<4:13:38, 161.90s/it]Extracting target objs from caption...
target_objs: [{'obj': 'apple', 'num': 1, 'color': [128, 64, 192]}]
caption_objs: ['apple']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:07<01:02,  7.75s/it][A
 22%|██▏       | 2/9 [00:15<00:54,  7.78s/it][A
 33%|███▎      | 3/9 [00:23<00:46,  7.76s/it][A
 44%|████▍     | 4/9 [00:31<00:38,  7.78s/it][A
 56%|█████▌    | 5/9 [00:38<00:31,  7.77s/it][A
 67%|██████▋   | 6/9 [00:46<00:23,  7.77s/it][A
 78%|███████▊  | 7/9 [00:54<00:15,  7.76s/it][A
 89%|████████▉ | 8/9 [01:02<00:07,  7.83s/it][A
100%|██████████| 9/9 [01:10<00:00,  7.83s/it][A100%|██████████| 9/9 [01:10<00:00,  7.80s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<11:02, 73.60s/it][A
 20%|██        | 2/10 [02:27<09:48, 73.60s/it][A
 30%|███       | 3/10 [03:40<08:35, 73.65s/it][A
 40%|████      | 4/10 [04:54<07:22, 73.72s/it][A
 50%|█████     | 5/10 [06:08<06:08, 73.68s/it][A
 60%|██████    | 6/10 [07:21<04:54, 73.58s/it][A
 70%|███████   | 7/10 [08:35<03:40, 73.61s/it][A
 80%|████████  | 8/10 [09:49<02:27, 73.88s/it][A
 90%|█████████ | 9/10 [11:04<01:14, 74.04s/it][A
100%|██████████| 10/10 [11:49<00:00, 65.11s/it][A100%|██████████| 10/10 [11:49<00:00, 70.94s/it]
Total: 783.7065577507019s
 41%|████      | 62/153 [4:09:15<4:50:46, 191.72s/it]Extracting target objs from caption...
target_objs: [{'obj': 'food-other', 'num': 0, 'color': [224, 64, 64]}, {'obj': 'broccoli', 'num': 1, 'color': [64, 64, 64]}]
caption_objs: ['fish', 'broccoli']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:09<01:13,  9.24s/it][A
 22%|██▏       | 2/9 [00:18<01:04,  9.17s/it][A
 33%|███▎      | 3/9 [00:27<00:55,  9.22s/it][A
 44%|████▍     | 4/9 [00:36<00:45,  9.18s/it][A
 56%|█████▌    | 5/9 [00:45<00:36,  9.17s/it][A
 67%|██████▋   | 6/9 [00:55<00:27,  9.17s/it][A
 78%|███████▊  | 7/9 [01:04<00:18,  9.14s/it][A
 89%|████████▉ | 8/9 [01:13<00:09,  9.12s/it][A
100%|██████████| 9/9 [01:22<00:00,  9.13s/it][A100%|██████████| 9/9 [01:22<00:00,  9.16s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<11:00, 73.35s/it][A
 20%|██        | 2/10 [02:21<09:23, 70.43s/it][A
 30%|███       | 3/10 [03:31<08:11, 70.21s/it][A
 40%|████      | 4/10 [04:45<07:10, 71.78s/it][A
 50%|█████     | 5/10 [05:59<06:03, 72.62s/it][A
 60%|██████    | 6/10 [07:13<04:51, 72.93s/it][A
 70%|███████   | 7/10 [08:27<03:39, 73.15s/it][A
 80%|████████  | 8/10 [09:40<02:26, 73.22s/it][A
 90%|█████████ | 9/10 [10:28<01:05, 65.19s/it][A
100%|██████████| 10/10 [11:23<00:00, 62.15s/it][A100%|██████████| 10/10 [11:23<00:00, 68.34s/it]
Total: 808.3689630031586s
 42%|████▏     | 65/153 [4:22:43<5:15:24, 215.05s/it]Extracting target objs from caption...
target_objs: [{'obj': 'spoon', 'num': 1, 'color': [0, 192, 64]}, {'obj': 'carrot', 'num': 1, 'color': [192, 64, 64]}, {'obj': 'carrot', 'num': 1, 'color': [192, 64, 64]}, {'obj': 'carrot', 'num': 1, 'color': [192, 64, 64]}]
caption_objs: ['spoon', 'carrot', 'carrot', 'carrot']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:09<01:14,  9.30s/it][A
 22%|██▏       | 2/9 [00:17<01:02,  8.92s/it][A
 33%|███▎      | 3/9 [00:26<00:53,  8.91s/it][A
 44%|████▍     | 4/9 [00:35<00:44,  8.96s/it][A
 56%|█████▌    | 5/9 [00:44<00:35,  8.86s/it][A
 67%|██████▋   | 6/9 [00:53<00:26,  8.92s/it][A
 78%|███████▊  | 7/9 [01:02<00:17,  8.97s/it][A
 89%|████████▉ | 8/9 [01:11<00:08,  8.95s/it][A
100%|██████████| 9/9 [01:21<00:00,  9.31s/it][A100%|██████████| 9/9 [01:21<00:00,  9.08s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:08<10:16, 68.55s/it][A
 20%|██        | 2/10 [02:17<09:08, 68.52s/it][A
 30%|███       | 3/10 [03:30<08:13, 70.55s/it][A
 40%|████      | 4/10 [04:43<07:09, 71.62s/it][A
 50%|█████     | 5/10 [05:56<06:01, 72.20s/it][A
 60%|██████    | 6/10 [07:09<04:50, 72.50s/it][A
 70%|███████   | 7/10 [08:22<03:37, 72.65s/it][A
 80%|████████  | 8/10 [09:14<02:11, 65.97s/it][A
 90%|█████████ | 9/10 [09:57<00:58, 58.77s/it][A
100%|██████████| 10/10 [10:40<00:00, 53.97s/it][A100%|██████████| 10/10 [10:40<00:00, 64.04s/it]
Total: 753.585586309433s
 44%|████▍     | 68/153 [4:35:17<5:20:01, 225.90s/it]Extracting target objs from caption...
target_objs: [{'obj': 'teddy bear', 'num': 1, 'color': [96, 64, 0]}]
caption_objs: ['teddy bear']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:08<01:04,  8.07s/it][A
 22%|██▏       | 2/9 [00:16<00:56,  8.11s/it][A
 33%|███▎      | 3/9 [00:23<00:47,  7.91s/it][A
 44%|████▍     | 4/9 [00:31<00:39,  7.95s/it][A
 56%|█████▌    | 5/9 [00:39<00:31,  7.97s/it][A
 67%|██████▋   | 6/9 [00:47<00:23,  7.90s/it][A
 78%|███████▊  | 7/9 [00:55<00:15,  7.92s/it][A
 89%|████████▉ | 8/9 [01:03<00:07,  7.98s/it][A
100%|██████████| 9/9 [01:11<00:00,  7.97s/it][A100%|██████████| 9/9 [01:11<00:00,  7.96s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:12<10:51, 72.41s/it][A
 20%|██        | 2/10 [02:25<09:41, 72.68s/it][A
 30%|███       | 3/10 [03:38<08:30, 72.89s/it][A
 40%|████      | 4/10 [04:51<07:18, 73.05s/it][A
 50%|█████     | 5/10 [06:04<06:05, 73.07s/it][A
 60%|██████    | 6/10 [07:18<04:52, 73.22s/it][A
 70%|███████   | 7/10 [08:32<03:40, 73.37s/it][A
 80%|████████  | 8/10 [09:45<02:26, 73.31s/it][A
 90%|█████████ | 9/10 [10:55<01:12, 72.49s/it][A
100%|██████████| 10/10 [11:39<00:00, 63.62s/it][A100%|██████████| 10/10 [11:39<00:00, 69.96s/it]
Total: 776.5179846286774s
 46%|████▋     | 71/153 [4:48:13<5:22:14, 235.78s/it]Extracting target objs from caption...
target_objs: [{'obj': 'food-other', 'num': 1, 'color': [224, 64, 64]}]
caption_objs: ['egg']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:07<00:57,  7.17s/it][A
 22%|██▏       | 2/9 [00:14<00:48,  6.99s/it][A
 33%|███▎      | 3/9 [00:20<00:41,  6.94s/it][A
 44%|████▍     | 4/9 [00:27<00:34,  6.92s/it][A
 56%|█████▌    | 5/9 [00:34<00:27,  6.90s/it][A
 67%|██████▋   | 6/9 [00:41<00:20,  6.93s/it][A
 78%|███████▊  | 7/9 [00:48<00:13,  6.98s/it][A
 89%|████████▉ | 8/9 [00:55<00:06,  6.99s/it][A
100%|██████████| 9/9 [01:02<00:00,  7.01s/it][A100%|██████████| 9/9 [01:02<00:00,  6.98s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<11:00, 73.36s/it][A
 20%|██        | 2/10 [02:26<09:47, 73.41s/it][A
 30%|███       | 3/10 [03:39<08:33, 73.30s/it][A
 40%|████      | 4/10 [04:48<07:09, 71.61s/it][A
 50%|█████     | 5/10 [06:02<06:01, 72.29s/it][A
 60%|██████    | 6/10 [07:16<04:51, 72.76s/it][A
 70%|███████   | 7/10 [08:29<03:38, 72.86s/it][A
 80%|████████  | 8/10 [09:31<02:18, 69.43s/it][A
 90%|█████████ | 9/10 [10:15<01:01, 61.61s/it][A
100%|██████████| 10/10 [10:55<00:00, 54.84s/it][A100%|██████████| 10/10 [10:55<00:00, 65.54s/it]
Total: 813.0318524837494s
 48%|████▊     | 74/153 [5:01:46<5:24:21, 246.35s/it]Extracting target objs from caption...
target_objs: [{'obj': 'dog', 'num': 1, 'color': [0, 192, 0]}, {'obj': 'sheep', 'num': 3, 'color': [0, 64, 128]}, {'obj': 'grass', 'num': 1, 'color': [96, 64, 192]}]
caption_objs: ['dog', 'sheep', 'meadow']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:11<01:30, 11.33s/it][A
 22%|██▏       | 2/9 [00:23<01:21, 11.70s/it][A
 33%|███▎      | 3/9 [00:32<01:03, 10.65s/it][A
 44%|████▍     | 4/9 [00:42<00:51, 10.29s/it][A
 56%|█████▌    | 5/9 [00:51<00:39,  9.99s/it][A
 67%|██████▋   | 6/9 [01:02<00:30, 10.23s/it][A
 78%|███████▊  | 7/9 [01:12<00:20, 10.18s/it][A
 89%|████████▉ | 8/9 [01:23<00:10, 10.26s/it][A
100%|██████████| 9/9 [01:32<00:00,  9.99s/it][A100%|██████████| 9/9 [01:32<00:00, 10.27s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:14<11:08, 74.23s/it][A
 20%|██        | 2/10 [02:28<09:55, 74.39s/it][A
 30%|███       | 3/10 [03:42<08:40, 74.31s/it][A
 40%|████      | 4/10 [04:57<07:26, 74.36s/it][A
 50%|█████     | 5/10 [06:11<06:11, 74.28s/it][A
 60%|██████    | 6/10 [07:26<04:58, 74.66s/it][A
 70%|███████   | 7/10 [08:41<03:43, 74.60s/it][A
 80%|████████  | 8/10 [09:52<02:26, 73.46s/it][A
 90%|█████████ | 9/10 [10:36<01:04, 64.27s/it][A
100%|██████████| 10/10 [11:20<00:00, 58.10s/it][A100%|██████████| 10/10 [11:20<00:00, 68.08s/it]
Total: 981.6045656204224s
 50%|█████     | 77/153 [5:18:08<5:42:46, 270.61s/it]Extracting target objs from caption...
target_objs: [{'obj': 'person', 'num': 1, 'color': [128, 0, 0]}, {'obj': 'person', 'num': 3, 'color': [128, 0, 0]}, {'obj': 'skis', 'num': 1, 'color': [128, 128, 64]}, {'obj': 'snow', 'num': 1, 'color': [192, 224, 128]}]
caption_objs: ['couple', 'people', 'skis', 'snow']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A  0%|          | 0/9 [00:01<?, ?it/s]
--------error--------
Traceback (most recent call last):
  File "/home/wgy/multimodal/MuMo/run4.py", line 442, in <module>
    editor(image_dir=obj_image_path, output_path=mask_dir, step=5, gen_num=9)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 203, in editor
    obj_list = get_obj_img(image_dir=image_dir, image_list=all_img)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 133, in get_obj_img
    info = read_obj_info(mask)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 119, in read_obj_info
    obj_info["x_max"] = max(point_x_set)
ValueError: max() arg is an empty sequence
---------------------
Total: 24.553414583206177s
 52%|█████▏    | 80/153 [5:18:32<3:53:26, 191.88s/it]Extracting target objs from caption...
target_objs: [{'obj': 'cat', 'num': 1, 'color': [128, 64, 0]}, {'obj': 'toilet', 'num': 1, 'color': [32, 128, 128]}]
caption_objs: ['cat', 'toilet']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:08<01:09,  8.74s/it][A
 22%|██▏       | 2/9 [00:17<01:01,  8.73s/it][A
 33%|███▎      | 3/9 [00:27<00:54,  9.11s/it][A
 44%|████▍     | 4/9 [00:37<00:48,  9.64s/it][A
 56%|█████▌    | 5/9 [00:46<00:37,  9.35s/it][A
 67%|██████▋   | 6/9 [00:55<00:27,  9.14s/it][A
 78%|███████▊  | 7/9 [01:03<00:18,  9.02s/it][A
 89%|████████▉ | 8/9 [01:12<00:08,  8.93s/it][A
100%|██████████| 9/9 [01:21<00:00,  8.85s/it][A100%|██████████| 9/9 [01:21<00:00,  9.03s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<11:02, 73.66s/it][A
 20%|██        | 2/10 [02:27<09:49, 73.64s/it][A
 30%|███       | 3/10 [03:40<08:34, 73.57s/it][A
 40%|████      | 4/10 [04:54<07:22, 73.69s/it][A
 50%|█████     | 5/10 [06:08<06:08, 73.71s/it][A
 60%|██████    | 6/10 [07:22<04:54, 73.70s/it][A
 70%|███████   | 7/10 [08:31<03:37, 72.38s/it][A
 80%|████████  | 8/10 [09:24<02:12, 66.00s/it][A
 90%|█████████ | 9/10 [10:07<00:58, 58.83s/it][A
100%|██████████| 10/10 [11:09<00:00, 59.95s/it][A100%|██████████| 10/10 [11:09<00:00, 66.96s/it]
Total: 777.5385644435883s
 54%|█████▍    | 83/153 [5:31:30<4:07:24, 212.07s/it]Extracting target objs from caption...
target_objs: [{'obj': 'train', 'num': 1, 'color': [128, 128, 128]}, {'obj': 'platform', 'num': 1, 'color': [0, 96, 0]}]
caption_objs: ['train', 'station']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:07<01:01,  7.71s/it][A
 22%|██▏       | 2/9 [00:15<00:54,  7.77s/it][A
 33%|███▎      | 3/9 [00:23<00:47,  7.87s/it][A
 44%|████▍     | 4/9 [00:31<00:39,  7.80s/it][A
 56%|█████▌    | 5/9 [00:39<00:31,  7.85s/it][A
 67%|██████▋   | 6/9 [00:47<00:23,  7.95s/it][A
 78%|███████▊  | 7/9 [00:54<00:15,  7.80s/it][A
 89%|████████▉ | 8/9 [01:02<00:07,  7.71s/it][A
100%|██████████| 9/9 [01:09<00:00,  7.70s/it][A100%|██████████| 9/9 [01:09<00:00,  7.78s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<10:59, 73.33s/it][A
 20%|██        | 2/10 [02:26<09:46, 73.25s/it][A
 30%|███       | 3/10 [03:39<08:33, 73.34s/it][A
 40%|████      | 4/10 [04:53<07:20, 73.44s/it][A
 50%|█████     | 5/10 [06:06<06:06, 73.39s/it][A
 60%|██████    | 6/10 [07:20<04:53, 73.35s/it][A
 70%|███████   | 7/10 [08:33<03:39, 73.29s/it][A
 80%|████████  | 8/10 [09:35<02:19, 69.91s/it][A
 90%|█████████ | 9/10 [10:19<01:01, 61.55s/it][A
100%|██████████| 10/10 [11:11<00:00, 58.77s/it][A100%|██████████| 10/10 [11:11<00:00, 67.17s/it]
Total: 764.0579512119293s
 56%|█████▌    | 86/153 [5:44:14<4:11:05, 224.85s/it]Extracting target objs from caption...
target_objs: [{'obj': 'dog', 'num': 3, 'color': [0, 192, 0]}, {'obj': 'grass', 'num': 1, 'color': [96, 64, 192]}]
caption_objs: ['dogs', 'grass']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:07<00:59,  7.47s/it][A
 22%|██▏       | 2/9 [00:15<00:52,  7.54s/it][A
 33%|███▎      | 3/9 [00:23<00:47,  7.87s/it][A
 44%|████▍     | 4/9 [00:29<00:36,  7.28s/it][A
 56%|█████▌    | 5/9 [00:37<00:30,  7.54s/it][A
 67%|██████▋   | 6/9 [00:44<00:22,  7.43s/it][A
 78%|███████▊  | 7/9 [00:51<00:14,  7.29s/it][A
 89%|████████▉ | 8/9 [00:58<00:07,  7.20s/it][A
100%|██████████| 9/9 [01:06<00:00,  7.48s/it][A100%|██████████| 9/9 [01:06<00:00,  7.44s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<11:02, 73.62s/it][A
 20%|██        | 2/10 [02:26<09:47, 73.43s/it][A
 30%|███       | 3/10 [03:40<08:35, 73.67s/it][A
 40%|████      | 4/10 [04:54<07:21, 73.55s/it][A
 50%|█████     | 5/10 [06:07<06:06, 73.32s/it][A
 60%|██████    | 6/10 [07:20<04:53, 73.45s/it][A
 70%|███████   | 7/10 [08:34<03:40, 73.42s/it][A
 80%|████████  | 8/10 [09:48<02:27, 73.65s/it][A
 90%|█████████ | 9/10 [10:33<01:04, 64.65s/it][A
100%|██████████| 10/10 [11:16<00:00, 57.97s/it][A100%|██████████| 10/10 [11:16<00:00, 67.62s/it]
Total: 764.2303578853607s
 58%|█████▊    | 89/153 [5:56:58<4:09:24, 233.82s/it]Extracting target objs from caption...
target_objs: [{'obj': 'orange', 'num': 5, 'color': [128, 192, 192]}]
caption_objs: ['oranges']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:06<00:51,  6.44s/it][A
 22%|██▏       | 2/9 [00:12<00:44,  6.42s/it][A
 33%|███▎      | 3/9 [00:19<00:38,  6.42s/it][A
 44%|████▍     | 4/9 [00:25<00:32,  6.41s/it][A
 56%|█████▌    | 5/9 [00:32<00:25,  6.47s/it][A
 67%|██████▋   | 6/9 [00:38<00:19,  6.44s/it][A
 78%|███████▊  | 7/9 [00:45<00:13,  6.52s/it][A
 89%|████████▉ | 8/9 [00:51<00:06,  6.48s/it][A
100%|██████████| 9/9 [00:58<00:00,  6.51s/it][A100%|██████████| 9/9 [00:58<00:00,  6.48s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:12<10:54, 72.76s/it][A
 20%|██        | 2/10 [02:25<09:41, 72.70s/it][A
 30%|███       | 3/10 [03:38<08:29, 72.82s/it][A
 40%|████      | 4/10 [04:51<07:18, 73.00s/it][A
 50%|█████     | 5/10 [06:04<06:05, 73.08s/it][A
 60%|██████    | 6/10 [07:18<04:52, 73.20s/it][A
 70%|███████   | 7/10 [08:31<03:39, 73.19s/it][A
 80%|████████  | 8/10 [09:44<02:26, 73.19s/it][A
 90%|█████████ | 9/10 [10:57<01:13, 73.17s/it][A
100%|██████████| 10/10 [11:58<00:00, 69.39s/it][A100%|██████████| 10/10 [11:58<00:00, 71.87s/it]
Total: 782.3490996360779s
 60%|██████    | 92/153 [6:10:00<4:05:56, 241.91s/it]Extracting target objs from caption...
target_objs: [{'obj': 'giraffe', 'num': 6, 'color': [192, 64, 0]}]
caption_objs: ['giraffe']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:06<00:50,  6.31s/it][A
 22%|██▏       | 2/9 [00:12<00:43,  6.23s/it][A
 33%|███▎      | 3/9 [00:18<00:37,  6.25s/it][A
 44%|████▍     | 4/9 [00:25<00:31,  6.25s/it][A
 56%|█████▌    | 5/9 [00:31<00:25,  6.30s/it][A
 67%|██████▋   | 6/9 [00:37<00:19,  6.35s/it][A
 78%|███████▊  | 7/9 [00:44<00:12,  6.34s/it][A
 89%|████████▉ | 8/9 [00:50<00:06,  6.33s/it][A
100%|██████████| 9/9 [00:56<00:00,  6.31s/it][A100%|██████████| 9/9 [00:56<00:00,  6.30s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [00:59<08:58, 59.85s/it][A
 20%|██        | 2/10 [02:12<09:00, 67.60s/it][A
 30%|███       | 3/10 [03:26<08:11, 70.22s/it][A
 40%|████      | 4/10 [04:39<07:08, 71.34s/it][A
 50%|█████     | 5/10 [05:52<06:00, 72.03s/it][A
 60%|██████    | 6/10 [07:05<04:49, 72.43s/it][A
 70%|███████   | 7/10 [08:18<03:38, 72.67s/it][A
 80%|████████  | 8/10 [09:32<02:25, 72.88s/it][A
 90%|█████████ | 9/10 [10:45<01:12, 72.96s/it][A
100%|██████████| 10/10 [11:58<00:00, 73.02s/it][A100%|██████████| 10/10 [11:58<00:00, 71.85s/it]
Total: 780.7854764461517s
 62%|██████▏   | 95/153 [6:23:01<3:59:10, 247.42s/it]Extracting target objs from caption...
target_objs: []
caption_objs: []
Total: 23.80513858795166s
 64%|██████▍   | 98/153 [6:23:25<2:40:56, 175.57s/it]Extracting target objs from caption...
target_objs: [{'obj': 'zebra', 'num': 1, 'color': [64, 64, 0]}, {'obj': 'fence', 'num': 0, 'color': [160, 64, 64]}]
caption_objs: ['zebra', 'fences']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:11<01:29, 11.19s/it][A
 22%|██▏       | 2/9 [00:24<01:26, 12.40s/it][A
 33%|███▎      | 3/9 [00:34<01:09, 11.52s/it][A
 44%|████▍     | 4/9 [00:47<01:00, 12.13s/it][A
 56%|█████▌    | 5/9 [00:59<00:47, 11.92s/it][A
 67%|██████▋   | 6/9 [01:13<00:37, 12.57s/it][A
 78%|███████▊  | 7/9 [01:25<00:24, 12.36s/it][A
 89%|████████▉ | 8/9 [01:34<00:11, 11.26s/it][A
100%|██████████| 9/9 [01:43<00:00, 10.53s/it][A100%|██████████| 9/9 [01:43<00:00, 11.46s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [00:46<07:02, 46.96s/it][A
 20%|██        | 2/10 [02:00<08:21, 62.70s/it][A
 30%|███       | 3/10 [03:14<07:53, 67.63s/it][A
 40%|████      | 4/10 [04:27<06:59, 69.98s/it][A
 50%|█████     | 5/10 [05:41<05:56, 71.33s/it][A
 60%|██████    | 6/10 [06:55<04:48, 72.19s/it][A
 70%|███████   | 7/10 [08:08<03:37, 72.65s/it][A
 80%|████████  | 8/10 [09:23<02:26, 73.18s/it][A
 90%|█████████ | 9/10 [10:37<01:13, 73.51s/it][A
100%|██████████| 10/10 [11:51<00:00, 73.54s/it][A100%|██████████| 10/10 [11:51<00:00, 71.11s/it]
Total: 831.989693403244s
 66%|██████▌   | 101/153 [6:37:17<2:58:37, 206.10s/it]Extracting target objs from caption...
target_objs: [{'obj': 'person', 'num': 1, 'color': [128, 0, 0]}, {'obj': 'pizza', 'num': 1, 'color': [192, 192, 64]}]
caption_objs: ['kid', 'pizza']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:08<01:09,  8.63s/it][A
 22%|██▏       | 2/9 [00:17<01:00,  8.70s/it][A
 33%|███▎      | 3/9 [00:26<00:52,  8.68s/it][A
 44%|████▍     | 4/9 [00:34<00:43,  8.66s/it][A
 56%|█████▌    | 5/9 [00:43<00:35,  8.77s/it][A
 67%|██████▋   | 6/9 [00:52<00:26,  8.75s/it][A
 78%|███████▊  | 7/9 [01:00<00:17,  8.72s/it][A
 89%|████████▉ | 8/9 [01:09<00:08,  8.75s/it][A
100%|██████████| 9/9 [01:18<00:00,  8.84s/it][A100%|██████████| 9/9 [01:18<00:00,  8.76s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<10:59, 73.31s/it][A
 20%|██        | 2/10 [02:26<09:47, 73.44s/it][A
 30%|███       | 3/10 [03:40<08:35, 73.57s/it][A
 40%|████      | 4/10 [04:54<07:21, 73.54s/it][A
 50%|█████     | 5/10 [06:07<06:07, 73.43s/it][A
 60%|██████    | 6/10 [07:20<04:53, 73.48s/it][A
 70%|███████   | 7/10 [08:34<03:40, 73.48s/it][A
 80%|████████  | 8/10 [09:47<02:26, 73.39s/it][A
 90%|█████████ | 9/10 [11:01<01:13, 73.44s/it][A
100%|██████████| 10/10 [12:07<00:00, 71.28s/it][A100%|██████████| 10/10 [12:07<00:00, 72.75s/it]
Total: 832.4768862724304s
 68%|██████▊   | 104/153 [6:51:10<3:05:48, 227.52s/it]Extracting target objs from caption...
target_objs: [{'obj': 'bird', 'num': 2, 'color': [0, 64, 0]}]
caption_objs: ['birds']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:07<01:00,  7.59s/it][A
 22%|██▏       | 2/9 [00:15<00:52,  7.54s/it][A
 33%|███▎      | 3/9 [00:22<00:45,  7.60s/it][A
 44%|████▍     | 4/9 [00:30<00:38,  7.63s/it][A
 56%|█████▌    | 5/9 [00:36<00:28,  7.19s/it][A
 67%|██████▋   | 6/9 [00:43<00:20,  6.87s/it][A
 78%|███████▊  | 7/9 [00:49<00:13,  6.69s/it][A
 89%|████████▉ | 8/9 [00:55<00:06,  6.61s/it][A
100%|██████████| 9/9 [01:02<00:00,  6.53s/it][A100%|██████████| 9/9 [01:02<00:00,  6.91s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<11:04, 73.87s/it][A
 20%|██        | 2/10 [02:28<09:52, 74.03s/it][A
 30%|███       | 3/10 [03:41<08:36, 73.82s/it][A
 40%|████      | 4/10 [04:55<07:22, 73.78s/it][A
 50%|█████     | 5/10 [06:09<06:09, 73.90s/it][A
 60%|██████    | 6/10 [07:22<04:54, 73.74s/it][A
 70%|███████   | 7/10 [08:36<03:41, 73.72s/it][A
 80%|████████  | 8/10 [09:50<02:27, 73.67s/it][A
 90%|█████████ | 9/10 [11:03<01:13, 73.61s/it][A
100%|██████████| 10/10 [12:17<00:00, 73.58s/it][A100%|██████████| 10/10 [12:17<00:00, 73.71s/it]
Total: 803.9460945129395s
 70%|██████▉   | 107/153 [7:04:33<3:03:44, 239.66s/it]Extracting target objs from caption...
target_objs: [{'obj': 'elephant', 'num': 3, 'color': [0, 192, 128]}]
caption_objs: ['elephant family']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:04<00:39,  4.90s/it][A
 22%|██▏       | 2/9 [00:10<00:35,  5.09s/it][A
 33%|███▎      | 3/9 [00:14<00:29,  4.98s/it][A
 44%|████▍     | 4/9 [00:20<00:26,  5.25s/it][A
 56%|█████▌    | 5/9 [00:25<00:20,  5.24s/it][A
 67%|██████▋   | 6/9 [00:31<00:15,  5.24s/it][A
 78%|███████▊  | 7/9 [00:36<00:10,  5.24s/it][A
 89%|████████▉ | 8/9 [00:41<00:05,  5.25s/it][A
100%|██████████| 9/9 [00:46<00:00,  5.25s/it][A100%|██████████| 9/9 [00:46<00:00,  5.21s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<10:59, 73.31s/it][A
 20%|██        | 2/10 [02:26<09:47, 73.46s/it][A
 30%|███       | 3/10 [03:40<08:35, 73.59s/it][A
 40%|████      | 4/10 [04:54<07:22, 73.69s/it][A
 50%|█████     | 5/10 [06:08<06:08, 73.68s/it][A
 60%|██████    | 6/10 [07:22<04:54, 73.75s/it][A
 70%|███████   | 7/10 [08:35<03:41, 73.72s/it][A
 80%|████████  | 8/10 [09:49<02:27, 73.64s/it][A
 90%|█████████ | 9/10 [11:02<01:13, 73.61s/it][A
100%|██████████| 10/10 [12:01<00:00, 69.11s/it][A100%|██████████| 10/10 [12:01<00:00, 72.17s/it]
Total: 839.1600778102875s
 72%|███████▏  | 110/153 [7:18:33<3:00:22, 251.68s/it]Extracting target objs from caption...
target_objs: [{'obj': 'donut', 'num': 1, 'color': [64, 64, 192]}]
caption_objs: ['chocolate donut']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:05<00:42,  5.25s/it][A
 22%|██▏       | 2/9 [00:10<00:36,  5.26s/it][A
 33%|███▎      | 3/9 [00:15<00:31,  5.26s/it][A
 44%|████▍     | 4/9 [00:21<00:26,  5.26s/it][A
 56%|█████▌    | 5/9 [00:26<00:21,  5.27s/it][A
 67%|██████▋   | 6/9 [00:31<00:15,  5.27s/it][A
 78%|███████▊  | 7/9 [00:36<00:10,  5.27s/it][A
 89%|████████▉ | 8/9 [00:42<00:05,  5.26s/it][A
100%|██████████| 9/9 [00:47<00:00,  5.27s/it][A100%|██████████| 9/9 [00:47<00:00,  5.27s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:10<10:30, 70.06s/it][A
 20%|██        | 2/10 [02:22<09:33, 71.75s/it][A
 30%|███       | 3/10 [03:35<08:25, 72.27s/it][A
 40%|████      | 4/10 [04:48<07:14, 72.49s/it][A
 50%|█████     | 5/10 [06:01<06:03, 72.64s/it][A
 60%|██████    | 6/10 [07:14<04:51, 72.79s/it][A
 70%|███████   | 7/10 [08:27<03:38, 72.83s/it][A
 80%|████████  | 8/10 [09:40<02:25, 72.83s/it][A
 90%|█████████ | 9/10 [10:53<01:12, 72.94s/it][A
100%|██████████| 10/10 [12:06<00:00, 72.97s/it][A100%|██████████| 10/10 [12:06<00:00, 72.67s/it]
Total: 779.0303392410278s
 74%|███████▍  | 113/153 [7:31:32<2:49:23, 254.08s/it]Extracting target objs from caption...
target_objs: [{'obj': 'dog', 'num': 1, 'color': [0, 192, 0]}, {'obj': 'frisbee', 'num': 1, 'color': [0, 128, 64]}]
caption_objs: ['dog', 'frisbee']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:08<01:05,  8.13s/it][A
 22%|██▏       | 2/9 [00:16<00:56,  8.13s/it][A
 33%|███▎      | 3/9 [00:24<00:48,  8.13s/it][A
 44%|████▍     | 4/9 [00:32<00:40,  8.10s/it][A
 56%|█████▌    | 5/9 [00:40<00:32,  8.11s/it][A
 67%|██████▋   | 6/9 [00:48<00:24,  8.13s/it][A
 78%|███████▊  | 7/9 [00:56<00:16,  8.10s/it][A
 89%|████████▉ | 8/9 [01:04<00:08,  8.11s/it][A
100%|██████████| 9/9 [01:13<00:00,  8.11s/it][A100%|██████████| 9/9 [01:13<00:00,  8.11s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<10:58, 73.16s/it][A
 20%|██        | 2/10 [02:26<09:44, 73.09s/it][A
 30%|███       | 3/10 [03:39<08:31, 73.08s/it][A
 40%|████      | 4/10 [04:52<07:18, 73.08s/it][A
 50%|█████     | 5/10 [06:05<06:05, 73.09s/it][A
 60%|██████    | 6/10 [07:18<04:52, 73.06s/it][A
 70%|███████   | 7/10 [08:31<03:39, 73.04s/it][A
 80%|████████  | 8/10 [09:44<02:26, 73.05s/it][A
 90%|█████████ | 9/10 [10:58<01:13, 73.36s/it][A
100%|██████████| 10/10 [12:11<00:00, 73.32s/it][A100%|██████████| 10/10 [12:11<00:00, 73.18s/it]
Total: 830.9358351230621s
 76%|███████▌  | 116/153 [7:45:23<2:40:55, 260.95s/it]Extracting target objs from caption...
target_objs: []
caption_objs: []
Total: 56.359424114227295s
 78%|███████▊  | 119/153 [7:46:19<1:46:42, 188.30s/it]Extracting target objs from caption...
target_objs: [{'obj': 'bench', 'num': 1, 'color': [192, 128, 128]}, {'obj': 'fire hydrant', 'num': 1, 'color': [192, 128, 0]}]
caption_objs: ['bench', 'fire hydrant']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:06<00:54,  6.87s/it][A
 22%|██▏       | 2/9 [00:13<00:48,  6.89s/it][A
 33%|███▎      | 3/9 [00:20<00:41,  6.87s/it][A
 44%|████▍     | 4/9 [00:27<00:34,  6.88s/it][A
 56%|█████▌    | 5/9 [00:34<00:27,  6.88s/it][A
 67%|██████▋   | 6/9 [00:41<00:20,  6.89s/it][A
 78%|███████▊  | 7/9 [00:48<00:13,  6.89s/it][A
 89%|████████▉ | 8/9 [00:55<00:06,  6.89s/it][A
100%|██████████| 9/9 [01:02<00:00,  6.90s/it][A100%|██████████| 9/9 [01:02<00:00,  6.89s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:12<10:52, 72.48s/it][A
 20%|██        | 2/10 [02:25<09:42, 72.84s/it][A
 30%|███       | 3/10 [03:38<08:30, 72.91s/it][A
 40%|████      | 4/10 [04:51<07:17, 73.00s/it][A
 50%|█████     | 5/10 [06:04<06:04, 73.00s/it][A
 60%|██████    | 6/10 [07:17<04:52, 73.01s/it][A
 70%|███████   | 7/10 [08:30<03:38, 72.97s/it][A
 80%|████████  | 8/10 [09:43<02:26, 73.02s/it][A
 90%|█████████ | 9/10 [10:56<01:13, 73.04s/it][A
100%|██████████| 10/10 [11:59<00:00, 69.96s/it][A100%|██████████| 10/10 [11:59<00:00, 71.99s/it]
Total: 786.5033369064331s
 80%|███████▉  | 122/153 [7:59:25<1:48:44, 210.46s/it]Extracting target objs from caption...
target_objs: []
caption_objs: []
Total: 3.0702579021453857s
 82%|████████▏ | 125/153 [7:59:29<1:08:53, 147.63s/it]Extracting target objs from caption...
target_objs: [{'obj': 'person', 'num': 1, 'color': [128, 0, 0]}, {'obj': 'road', 'num': 1, 'color': [128, 96, 128]}, {'obj': 'bus', 'num': 1, 'color': [0, 128, 128]}]
caption_objs: ['pedestrian', 'highway', 'bus']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:10<01:23, 10.46s/it][A
 22%|██▏       | 2/9 [00:20<01:12, 10.42s/it][A
 33%|███▎      | 3/9 [00:31<01:03, 10.59s/it][A
 44%|████▍     | 4/9 [00:42<00:52, 10.54s/it][A
 56%|█████▌    | 5/9 [00:52<00:41, 10.44s/it][A
 67%|██████▋   | 6/9 [01:02<00:31, 10.48s/it][A
 78%|███████▊  | 7/9 [01:13<00:20, 10.45s/it][A
 89%|████████▉ | 8/9 [01:23<00:10, 10.42s/it][A
100%|██████████| 9/9 [01:34<00:00, 10.49s/it][A100%|██████████| 9/9 [01:34<00:00, 10.48s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<10:57, 73.05s/it][A
 20%|██        | 2/10 [02:26<09:44, 73.11s/it][A
 30%|███       | 3/10 [03:39<08:31, 73.13s/it][A
 40%|████      | 4/10 [04:52<07:19, 73.21s/it][A
 50%|█████     | 5/10 [06:05<06:06, 73.24s/it][A
 60%|██████    | 6/10 [07:19<04:52, 73.21s/it][A
 70%|███████   | 7/10 [08:32<03:39, 73.20s/it][A
 80%|████████  | 8/10 [09:24<02:13, 66.51s/it][A
 90%|█████████ | 9/10 [10:08<00:59, 59.36s/it][A
100%|██████████| 10/10 [10:51<00:00, 54.34s/it][A100%|██████████| 10/10 [10:51<00:00, 65.12s/it]
Total: 854.6852519512177s
 84%|████████▎ | 128/153 [8:13:43<1:18:40, 188.81s/it]Extracting target objs from caption...
target_objs: [{'obj': 'person', 'num': 13, 'color': [128, 0, 0]}]
caption_objs: ['tennis player']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:06<00:53,  6.71s/it][A
 22%|██▏       | 2/9 [00:13<00:46,  6.70s/it][A
 33%|███▎      | 3/9 [00:20<00:39,  6.65s/it][A
 44%|████▍     | 4/9 [00:26<00:33,  6.66s/it][A
 56%|█████▌    | 5/9 [00:33<00:27,  6.85s/it][A
 67%|██████▋   | 6/9 [00:41<00:21,  7.07s/it][A
 78%|███████▊  | 7/9 [00:48<00:14,  7.14s/it][A
 89%|████████▉ | 8/9 [00:55<00:06,  6.97s/it][A
100%|██████████| 9/9 [01:01<00:00,  6.85s/it][A100%|██████████| 9/9 [01:01<00:00,  6.87s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<11:01, 73.54s/it][A
 20%|██        | 2/10 [02:27<09:49, 73.72s/it][A
 30%|███       | 3/10 [03:41<08:35, 73.70s/it][A
 40%|████      | 4/10 [04:54<07:21, 73.57s/it][A
 50%|█████     | 5/10 [06:07<06:07, 73.54s/it][A
 60%|██████    | 6/10 [07:21<04:54, 73.60s/it][A
 70%|███████   | 7/10 [08:35<03:40, 73.57s/it][A
 80%|████████  | 8/10 [09:48<02:27, 73.52s/it][A
 90%|█████████ | 9/10 [10:59<01:12, 72.63s/it][A
100%|██████████| 10/10 [11:44<00:00, 64.21s/it][A100%|██████████| 10/10 [11:44<00:00, 70.46s/it]
Total: 771.5479915142059s
 86%|████████▌ | 131/153 [8:26:35<1:16:45, 209.32s/it]Extracting target objs from caption...
target_objs: [{'obj': 'person', 'num': 1, 'color': [128, 0, 0]}, {'obj': 'skateboard', 'num': 1, 'color': [192, 0, 64]}]
caption_objs: ['man', 'skateboard']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A  0%|          | 0/9 [00:02<?, ?it/s]
--------error--------
Traceback (most recent call last):
  File "/home/wgy/multimodal/MuMo/run4.py", line 442, in <module>
    editor(image_dir=obj_image_path, output_path=mask_dir, step=5, gen_num=9)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 203, in editor
    obj_list = get_obj_img(image_dir=image_dir, image_list=all_img)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 133, in get_obj_img
    info = read_obj_info(mask)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 119, in read_obj_info
    obj_info["x_max"] = max(point_x_set)
ValueError: max() arg is an empty sequence
---------------------
Total: 8.99500298500061s
 88%|████████▊ | 134/153 [8:26:44<46:41, 147.42s/it]  Extracting target objs from caption...
target_objs: [{'obj': 'person', 'num': 1, 'color': [128, 0, 0]}, {'obj': 'elephant', 'num': 1, 'color': [0, 192, 128]}]
caption_objs: ['man', 'elephant']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:07<00:58,  7.31s/it][A
 22%|██▏       | 2/9 [00:14<00:49,  7.08s/it][A
 33%|███▎      | 3/9 [00:21<00:43,  7.20s/it][A
 44%|████▍     | 4/9 [00:28<00:36,  7.24s/it][A
 56%|█████▌    | 5/9 [00:35<00:28,  7.12s/it][A
 67%|██████▋   | 6/9 [00:42<00:21,  7.12s/it][A
 78%|███████▊  | 7/9 [00:50<00:14,  7.24s/it][A
 89%|████████▉ | 8/9 [00:57<00:07,  7.33s/it][A
100%|██████████| 9/9 [01:05<00:00,  7.39s/it][A100%|██████████| 9/9 [01:05<00:00,  7.27s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<10:59, 73.24s/it][A
 20%|██        | 2/10 [02:26<09:47, 73.47s/it][A
 30%|███       | 3/10 [03:40<08:35, 73.63s/it][A
 40%|████      | 4/10 [04:54<07:21, 73.52s/it][A
 50%|█████     | 5/10 [06:07<06:07, 73.53s/it][A
 60%|██████    | 6/10 [07:21<04:54, 73.54s/it][A
 70%|███████   | 7/10 [08:34<03:40, 73.36s/it][A
 80%|████████  | 8/10 [09:47<02:26, 73.32s/it][A
 90%|█████████ | 9/10 [11:00<01:13, 73.27s/it][A
100%|██████████| 10/10 [12:13<00:00, 73.27s/it][A100%|██████████| 10/10 [12:13<00:00, 73.38s/it]
Total: 805.2101440429688s
 90%|████████▉ | 137/153 [8:40:09<48:59, 183.72s/it]Extracting target objs from caption...
target_objs: [{'obj': 'cell phone', 'num': 1, 'color': [224, 0, 128]}]
caption_objs: ['phone camera']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:07<00:57,  7.19s/it][A
 22%|██▏       | 2/9 [00:13<00:47,  6.83s/it][A
 33%|███▎      | 3/9 [00:20<00:40,  6.83s/it][A
 44%|████▍     | 4/9 [00:27<00:34,  6.86s/it][A
 56%|█████▌    | 5/9 [00:34<00:27,  6.89s/it][A
 67%|██████▋   | 6/9 [00:41<00:20,  6.92s/it][A
 78%|███████▊  | 7/9 [00:48<00:13,  6.92s/it][A
 89%|████████▉ | 8/9 [00:55<00:06,  6.84s/it][A
100%|██████████| 9/9 [01:01<00:00,  6.88s/it][A100%|██████████| 9/9 [01:01<00:00,  6.89s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:12<10:51, 72.34s/it][A
 20%|██        | 2/10 [02:25<09:40, 72.58s/it][A
 30%|███       | 3/10 [03:37<08:28, 72.62s/it][A
 40%|████      | 4/10 [04:50<07:16, 72.78s/it][A
 50%|█████     | 5/10 [06:03<06:03, 72.72s/it][A
 60%|██████    | 6/10 [07:16<04:51, 72.85s/it][A
 70%|███████   | 7/10 [08:29<03:38, 72.74s/it][A
 80%|████████  | 8/10 [09:41<02:25, 72.70s/it][A
 90%|█████████ | 9/10 [10:54<01:12, 72.77s/it][A
100%|██████████| 10/10 [11:58<00:00, 70.00s/it][A100%|██████████| 10/10 [11:58<00:00, 71.83s/it]
Total: 843.6965806484222s
 92%|█████████▏| 140/153 [8:54:13<46:08, 212.97s/it]Extracting target objs from caption...
target_objs: [{'obj': 'person', 'num': 1, 'color': [128, 0, 0]}, {'obj': 'horse', 'num': 1, 'color': [128, 192, 0]}]
caption_objs: ['boy', 'horse']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:08<01:05,  8.14s/it][A
 22%|██▏       | 2/9 [00:16<00:57,  8.17s/it][A
 33%|███▎      | 3/9 [00:24<00:49,  8.18s/it][A
 44%|████▍     | 4/9 [00:32<00:40,  8.12s/it][A
 56%|█████▌    | 5/9 [00:40<00:32,  8.11s/it][A
 67%|██████▋   | 6/9 [00:48<00:24,  8.13s/it][A
 78%|███████▊  | 7/9 [00:56<00:16,  8.13s/it][A
 89%|████████▉ | 8/9 [01:05<00:08,  8.14s/it][A
100%|██████████| 9/9 [01:13<00:00,  8.11s/it][A100%|██████████| 9/9 [01:13<00:00,  8.13s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:11<10:43, 71.53s/it][A
 20%|██        | 2/10 [02:24<09:40, 72.52s/it][A
 30%|███       | 3/10 [03:37<08:29, 72.81s/it][A
 40%|████      | 4/10 [04:50<07:16, 72.69s/it][A
 50%|█████     | 5/10 [06:03<06:04, 72.80s/it][A
 60%|██████    | 6/10 [07:16<04:51, 72.89s/it][A
 70%|███████   | 7/10 [08:29<03:38, 72.97s/it][A
 80%|████████  | 8/10 [09:42<02:26, 73.01s/it][A
 90%|█████████ | 9/10 [10:55<01:12, 72.99s/it][A
100%|██████████| 10/10 [12:08<00:00, 73.06s/it][A100%|██████████| 10/10 [12:08<00:00, 72.89s/it]
Total: 808.1874513626099s
 93%|█████████▎| 143/153 [9:07:41<38:18, 229.90s/it]Extracting target objs from caption...
target_objs: [{'obj': 'table', 'num': 1, 'color': [128, 32, 192]}, {'obj': 'banana', 'num': 2, 'color': [0, 64, 192]}]
caption_objs: ['table', 'bananas']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:10<01:27, 10.88s/it][A
 22%|██▏       | 2/9 [00:21<01:15, 10.79s/it][A
 33%|███▎      | 3/9 [00:32<01:05, 10.96s/it][A
 44%|████▍     | 4/9 [00:43<00:55, 11.01s/it][A
 56%|█████▌    | 5/9 [00:55<00:44, 11.12s/it][A
 67%|██████▋   | 6/9 [01:06<00:33, 11.05s/it][A
 78%|███████▊  | 7/9 [01:17<00:22, 11.07s/it][A
 89%|████████▉ | 8/9 [01:28<00:11, 11.07s/it][A
100%|██████████| 9/9 [01:39<00:00, 11.03s/it][A100%|██████████| 9/9 [01:39<00:00, 11.02s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:13<10:57, 73.06s/it][A
 20%|██        | 2/10 [02:26<09:46, 73.26s/it][A
 30%|███       | 3/10 [03:40<08:33, 73.40s/it][A
 40%|████      | 4/10 [04:53<07:20, 73.47s/it][A
 50%|█████     | 5/10 [06:07<06:07, 73.51s/it][A
 60%|██████    | 6/10 [07:21<04:54, 73.65s/it][A
 70%|███████   | 7/10 [08:34<03:41, 73.67s/it][A
 80%|████████  | 8/10 [09:48<02:27, 73.65s/it][A
 90%|█████████ | 9/10 [11:02<01:13, 73.66s/it][A
100%|██████████| 10/10 [12:00<00:00, 68.92s/it][A100%|██████████| 10/10 [12:00<00:00, 72.04s/it]
Total: 845.5527665615082s
 95%|█████████▌| 146/153 [9:21:46<28:38, 245.48s/it]Extracting target objs from caption...
target_objs: [{'obj': 'cow', 'num': 4, 'color': [128, 64, 128]}]
caption_objs: ['calf']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A
 11%|█         | 1/9 [00:06<00:51,  6.40s/it][A
 22%|██▏       | 2/9 [00:12<00:44,  6.43s/it][A
 33%|███▎      | 3/9 [00:19<00:38,  6.35s/it][A
 44%|████▍     | 4/9 [00:25<00:31,  6.37s/it][A
 56%|█████▌    | 5/9 [00:31<00:25,  6.39s/it][A
 67%|██████▋   | 6/9 [00:38<00:19,  6.38s/it][A
 78%|███████▊  | 7/9 [00:44<00:12,  6.39s/it][A
 89%|████████▉ | 8/9 [00:50<00:06,  6.35s/it][A
100%|██████████| 9/9 [00:57<00:00,  6.32s/it][A100%|██████████| 9/9 [00:57<00:00,  6.36s/it]
Generating new images...

  0%|          | 0/10 [00:00<?, ?it/s][A
 10%|█         | 1/10 [01:12<10:51, 72.34s/it][A
 20%|██        | 2/10 [02:25<09:40, 72.59s/it][A
 30%|███       | 3/10 [03:38<08:30, 72.88s/it][A
 40%|████      | 4/10 [04:51<07:18, 73.12s/it][A
 50%|█████     | 5/10 [06:05<06:05, 73.18s/it][A
 60%|██████    | 6/10 [07:18<04:52, 73.11s/it][A
 70%|███████   | 7/10 [08:31<03:39, 73.21s/it][A
 80%|████████  | 8/10 [09:44<02:26, 73.15s/it][A
 90%|█████████ | 9/10 [10:57<01:13, 73.17s/it][A
100%|██████████| 10/10 [12:10<00:00, 73.20s/it][A100%|██████████| 10/10 [12:10<00:00, 73.10s/it]
Total: 840.8284602165222s
 97%|█████████▋| 149/153 [9:35:47<17:03, 255.92s/it]Extracting target objs from caption...
target_objs: [{'obj': 'person', 'num': 2, 'color': [128, 0, 0]}, {'obj': 'tie', 'num': 0, 'color': [0, 0, 64]}]
caption_objs: ['people', 'tie']
Extracting target objs...
Adjusting layout...

  0%|          | 0/9 [00:00<?, ?it/s][A  0%|          | 0/9 [00:02<?, ?it/s]
--------error--------
Traceback (most recent call last):
  File "/home/wgy/multimodal/MuMo/run4.py", line 442, in <module>
    editor(image_dir=obj_image_path, output_path=mask_dir, step=5, gen_num=9)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 203, in editor
    obj_list = get_obj_img(image_dir=image_dir, image_list=all_img)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 133, in get_obj_img
    info = read_obj_info(mask)
  File "/home/wgy/multimodal/MuMo/layout_editor.py", line 119, in read_obj_info
    obj_info["x_max"] = max(point_x_set)
ValueError: max() arg is an empty sequence
---------------------
Total: 23.26822853088379s
 99%|█████████▉| 152/153 [9:36:11<03:01, 181.47s/it]100%|██████████| 153/153 [9:36:11<00:00, 225.95s/it]
Finish...
